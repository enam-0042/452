{"ast":null,"code":"import axios from'axios';import React,{useState}from'react';import ReactPaginate from'react-paginate';import'./style/pagination.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ItemsControllerApproval(_ref){let{currentItems,listOfStudent}=_ref;const data=currentItems;const[currentItemsList,setCurrentItemsList]=useState(data);const handleApprove=(event,index)=>{event.preventDefault();let Exam_Controller_Status=event.target.value;let{reg_no,semester,USN}=listOfStudent[index];let data={reg_no,semester,USN,Exam_Controller_Status};console.log(data);axios.put('/adminApproval',data).then(res=>res.data).then(data=>{console.log(data);if(data.result.affectedRows===1){console.log(\"inside\");const list=[...currentItemsList];list[index].Exam_Controller_Status=Exam_Controller_Status;setCurrentItemsList(list);console.log(list);}}).catch(err=>{console.log(err);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table1\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"SL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Registration No.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Student's Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Department Head\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Department Head Approval Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Department Head Approval Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Exam Controller Approval Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentItemsList.map((item,key)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:key+1}),/*#__PURE__*/_jsx(\"td\",{children:item.reg_no}),/*#__PURE__*/_jsx(\"td\",{children:item.std_name}),/*#__PURE__*/_jsx(\"td\",{children:item.Department_Head}),/*#__PURE__*/_jsx(\"td\",{children:item.Department_Head_Status}),/*#__PURE__*/_jsx(\"td\",{children:item.Department_Head_Approved_Date?item.Department_Head_Approved_Date.split('T')[0]:\"N/A\"}),/*#__PURE__*/_jsx(\"td\",{children:item.Exam_Controller_Status?item.Exam_Controller_Status:\"N/A\"}),/*#__PURE__*/_jsx(\"td\",{children:item.Exam_Controller_Status===\"APPROVED\"?/*#__PURE__*/_jsx(\"button\",{// className='approve ${}'\nclassName:\"approve disabled\",value:\"APPROVED\",children:\"Approve\"}):/*#__PURE__*/_jsx(\"button\",{// className='approve ${}'\nclassName:\"approve\",value:\"APPROVED\",onClick:event=>{handleApprove(event,key);},children:\"Approve\"})}),/*#__PURE__*/_jsx(\"td\",{children:item.Exam_Controller_Status===\"DISAPPROVED\"?/*#__PURE__*/_jsx(\"button\",{// className='approve ${}'\nclassName:\"cancel disabled\",value:\"DISAPPROVED\",children:\"Disapprove\"}):/*#__PURE__*/_jsx(\"button\",{// className='approve ${}'\nclassName:\"cancel\",value:\"DISAPPROVED\",onClick:event=>{handleApprove(event,key);},children:\"Disapprove\"})})]},key))})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'start',flexWrap:'nowrap',bottom:0},children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Total Student: \",listOfStudent.length>0&&listOfStudent.length]})})]});}export function PaginatedItemsAdminApproval(_ref2){let{itemsPerPage,listOfStudentProps}=_ref2;// const [listOfStudent, setListOfStudent] = useState(listOfStudentProps);\nconst listOfStudent=listOfStudentProps;console.log(listOfStudent);const[itemOffset,setItemOffset]=useState(0);const endOffset=itemOffset+itemsPerPage;console.log(\"Loading items from \".concat(itemOffset,\" to \").concat(endOffset));const currentItems=listOfStudent.slice(itemOffset,endOffset);const pageCount=Math.ceil(listOfStudent.length/itemsPerPage);const handlePageClick=event=>{const newOffset=event.selected*itemsPerPage%listOfStudent.length;console.log(\"User requested page number \".concat(event.selected,\", which is offset \").concat(newOffset));setItemOffset(newOffset);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ItemsControllerApproval,{currentItems:currentItems,listOfStudent:listOfStudent}),/*#__PURE__*/_jsx(ReactPaginate,{breakLabel:\"...\",nextLabel:\"next >\",onPageChange:handlePageClick,pageRangeDisplayed:2,pageCount:pageCount,previousLabel:\"< previous\",renderOnZeroPageCount:null})]});}","map":{"version":3,"names":["axios","React","useState","ReactPaginate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ItemsControllerApproval","_ref","currentItems","listOfStudent","data","currentItemsList","setCurrentItemsList","handleApprove","event","index","preventDefault","Exam_Controller_Status","target","value","reg_no","semester","USN","console","log","put","then","res","result","affectedRows","list","catch","err","children","className","map","item","key","std_name","Department_Head","Department_Head_Status","Department_Head_Approved_Date","split","onClick","style","display","flexDirection","alignItems","flexWrap","bottom","length","PaginatedItemsAdminApproval","_ref2","itemsPerPage","listOfStudentProps","itemOffset","setItemOffset","endOffset","concat","slice","pageCount","Math","ceil","handlePageClick","newOffset","selected","breakLabel","nextLabel","onPageChange","pageRangeDisplayed","previousLabel","renderOnZeroPageCount"],"sources":["/home/enam/Desktop/result/frontend/src/pages/admin/pagination.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useState } from 'react';\r\n\r\nimport ReactPaginate from 'react-paginate';\r\nimport './style/pagination.css';\r\n\r\nfunction ItemsControllerApproval({ currentItems, listOfStudent }) {\r\n    const data = currentItems;\r\n    const [currentItemsList, setCurrentItemsList] = useState(data);\r\n\r\n    const handleApprove = (event, index) => {\r\n        event.preventDefault();\r\n\r\n        let Exam_Controller_Status = event.target.value\r\n        let { reg_no, semester, USN } = listOfStudent[index];\r\n\r\n        let data = {\r\n            reg_no, semester, USN, Exam_Controller_Status\r\n        }\r\n        console.log(data);\r\n        axios.put('/adminApproval', data)\r\n            .then(res => res.data)\r\n            .then(data => {\r\n                console.log(data);\r\n                if (data.result.affectedRows === 1) {\r\n                    console.log(\"inside\");\r\n\r\n                    const list = [...currentItemsList]\r\n                    list[index].Exam_Controller_Status = Exam_Controller_Status;\r\n\r\n                    setCurrentItemsList(list);\r\n\r\n                    console.log(list);\r\n                }\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <table className=\"table1\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>SL</th>\r\n                        <th>Registration No.</th>\r\n                        <th>Student's Name</th>\r\n                        <th>Department Head</th>\r\n                        <th>Department Head Approval Status</th>\r\n                        <th>Department Head Approval Date</th>\r\n                        <th>Exam Controller Approval Status</th>\r\n                        {/* <th >Approve</th>\r\n                        <th>Cancel</th> */}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {currentItemsList.map((item, key) => (\r\n\r\n                        <tr key={key}>\r\n                            <td>{key + 1}</td>\r\n                            <td>{item.reg_no}</td>\r\n                            <td>{item.std_name}</td>\r\n                            <td>{item.Department_Head}</td>\r\n                            <td>{item.Department_Head_Status}</td>\r\n                            <td>{item.Department_Head_Approved_Date ? item.Department_Head_Approved_Date.split('T')[0] : \"N/A\"}</td>\r\n                            <td>{item.Exam_Controller_Status ? item.Exam_Controller_Status : \"N/A\"}</td>\r\n                            <td>\r\n                                {/* <button\r\n                                    // className='approve ${}'\r\n                                    className={`approve ${item.Department_Head_Status === \"APPROVED\" && \"disabled\"}`}\r\n                                    value=\"APPROVED\"\r\n                                    onClick={(event) => {\r\n                                        handleApprove(event, key)\r\n                                    }}\r\n                                >Approve</button> */}\r\n                                {item.Exam_Controller_Status === \"APPROVED\" ?\r\n                                    (<button\r\n                                        // className='approve ${}'\r\n                                        className='approve disabled'\r\n                                        value=\"APPROVED\"\r\n                                    >Approve</button>)\r\n                                    : (<button\r\n                                        // className='approve ${}'\r\n                                        className='approve'\r\n                                        value=\"APPROVED\"\r\n                                        onClick={(event) => {\r\n                                            handleApprove(event, key)\r\n                                        }}\r\n                                    >Approve</button>)\r\n                                }\r\n                            </td>\r\n                            <td>\r\n                                {/* <button\r\n                                    className={`cancel ${item.Department_Head_Status === \"DISAPPROVED\" && \"disabled\"}`}\r\n                                    value=\"DISAPPROVED\"\r\n                                    onClick={(event) => {\r\n                                        handleApprove(event, key)\r\n                                    }}\r\n                                >Cancel</button> */}\r\n                                {item.Exam_Controller_Status === \"DISAPPROVED\" ?\r\n                                    (<button\r\n                                        // className='approve ${}'\r\n                                        className='cancel disabled'\r\n                                        value=\"DISAPPROVED\"\r\n                                    >Disapprove</button>)\r\n                                    : (<button\r\n                                        // className='approve ${}'\r\n                                        className='cancel'\r\n                                        value=\"DISAPPROVED\"\r\n                                        onClick={(event) => {\r\n                                            handleApprove(event, key)\r\n                                        }}\r\n                                    >Disapprove</button>)\r\n                                }\r\n                            </td>\r\n                        </tr>\r\n                    )\r\n                    )}\r\n\r\n                </tbody>\r\n            </table>\r\n            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'start', flexWrap: 'nowrap', bottom: 0 }}>\r\n                <h4>Total Student: {listOfStudent.length > 0 && listOfStudent.length}</h4>\r\n            </div>\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nexport function PaginatedItemsAdminApproval({ itemsPerPage, listOfStudentProps }) {\r\n\r\n    // const [listOfStudent, setListOfStudent] = useState(listOfStudentProps);\r\n    const listOfStudent = listOfStudentProps\r\n\r\n    console.log(listOfStudent);\r\n\r\n    const [itemOffset, setItemOffset] = useState(0);\r\n\r\n    const endOffset = itemOffset + itemsPerPage;\r\n\r\n    console.log(`Loading items from ${itemOffset} to ${endOffset}`);\r\n\r\n    const currentItems = listOfStudent.slice(itemOffset, endOffset);\r\n    const pageCount = Math.ceil(listOfStudent.length / itemsPerPage);\r\n\r\n    const handlePageClick = (event) => {\r\n        const newOffset = (event.selected * itemsPerPage) % listOfStudent.length;\r\n        console.log(\r\n            `User requested page number ${event.selected}, which is offset ${newOffset}`\r\n        );\r\n        setItemOffset(newOffset);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ItemsControllerApproval currentItems={currentItems} listOfStudent={listOfStudent} />\r\n            <ReactPaginate\r\n                breakLabel=\"...\"\r\n                nextLabel=\"next >\"\r\n                onPageChange={handlePageClick}\r\n                pageRangeDisplayed={2}\r\n                pageCount={pageCount}\r\n                previousLabel=\"< previous\"\r\n                renderOnZeroPageCount={null}\r\n            />\r\n        </>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}