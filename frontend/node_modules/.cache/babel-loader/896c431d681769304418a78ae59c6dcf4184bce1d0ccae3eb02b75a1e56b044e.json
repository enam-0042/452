{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{Link,Navigate}from'react-router-dom';import HeaderSection from'../../components/header';import\"./style/student_login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function StudentLogin(){const[inputs,setInputs]=useState({showPassword:false});let[logMessage,setLogMessage]=useState(\"\");let[isLoggedIn,setIsLoggedIn]=useState(localStorage.getItem(\"studentIsLoggedIn\"));const logHandleChange=event=>{const name=event.target.name;const value=event.target.value;setInputs(values=>({...values,[name]:value}));};const handleClickShowPassword=()=>{setInputs({...inputs,showPassword:!inputs.showPassword});};const handleSubmit=event=>{event.preventDefault();let{username,password}=inputs;console.log(inputs);axios.post('/student_login',{reg_no:username,password}).then(res=>res.data).then(data=>{console.log(data);localStorage.setItem(\"access_token\",data.access_token);setLogMessage(data.message);localStorage.setItem(\"studentIsLoggedIn\",\"true\");setIsLoggedIn(localStorage.getItem(\"studentIsLoggedIn\"));}).catch(error=>{if(error.response.status===401){setLogMessage(error.response.data.message);}else if(error.response.status===400){setLogMessage(error.response.data.message);}else{setLogMessage(\"Internal Server Error!\");}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"Student-login-section\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(HeaderSection,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Student-login-container\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Student Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:inputs.username||\"\",onChange:logHandleChange,autoComplete:\"off\",placeholder:\"Username\",required:true,pattern:\"[a-z A-Z 0-9]+\"}),/*#__PURE__*/_jsx(\"input\",{type:inputs.showPassword?\"text\":\"password\",name:\"password\",value:inputs.password||\"\",onChange:logHandleChange,autoComplete:\"off\",required:true,placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',display:'flex',alignItems:'center'},children:/*#__PURE__*/_jsxs(\"span\",{className:\"toggle\",children:[\" \",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onClick:handleClickShowPassword}),\" Show Password\"]})}),/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:logMessage}),/*#__PURE__*/_jsx(\"button\",{children:\"Log In\"}),/*#__PURE__*/_jsx(Link,{to:\"/recover\",children:\"Forgot your password?\"}),isLoggedIn?/*#__PURE__*/_jsx(Navigate,{to:\"/student_workspace\",replace:true}):/*#__PURE__*/_jsx(\"h3\",{children:\" \"})]})]})]});}","map":{"version":3,"names":["React","useState","axios","Link","Navigate","HeaderSection","jsx","_jsx","jsxs","_jsxs","StudentLogin","inputs","setInputs","showPassword","logMessage","setLogMessage","isLoggedIn","setIsLoggedIn","localStorage","getItem","logHandleChange","event","name","target","value","values","handleClickShowPassword","handleSubmit","preventDefault","username","password","console","log","post","reg_no","then","res","data","setItem","access_token","message","catch","error","response","status","className","children","onSubmit","type","onChange","autoComplete","placeholder","required","pattern","style","width","display","alignItems","onClick","color","to","replace"],"sources":["/home/enam/Desktop/result/frontend/src/pages/student/student_login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, Navigate } from 'react-router-dom';\r\nimport HeaderSection from '../../components/header';\r\nimport \"./style/student_login.css\";\r\n\r\nexport default function StudentLogin() {\r\n\r\n    const [inputs, setInputs] = useState({\r\n        showPassword: false\r\n    });\r\n\r\n    let [logMessage, setLogMessage] = useState(\"\");\r\n    let [isLoggedIn, setIsLoggedIn] = useState(localStorage.getItem(\"studentIsLoggedIn\"));\r\n\r\n    const logHandleChange = (event) => {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        setInputs(values => ({ ...values, [name]: value }))\r\n    }\r\n\r\n    const handleClickShowPassword = () => {\r\n        setInputs({ ...inputs, showPassword: !inputs.showPassword });\r\n    };\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        let { username, password } = inputs;\r\n\r\n        console.log(inputs);\r\n        axios.post('/student_login', {\r\n            reg_no: username,\r\n            password\r\n        })\r\n            .then(res => res.data)\r\n            .then(data => {\r\n                console.log(data);\r\n                localStorage.setItem(\"access_token\", data.access_token);\r\n                setLogMessage(data.message);\r\n                localStorage.setItem(\"studentIsLoggedIn\", \"true\");\r\n                setIsLoggedIn(localStorage.getItem(\"studentIsLoggedIn\"));\r\n            })\r\n            .catch(error => {\r\n                if (error.response.status === 401) {\r\n                    setLogMessage(error.response.data.message);\r\n                }\r\n                else if (error.response.status === 400) {\r\n                    setLogMessage(error.response.data.message);\r\n                }\r\n                else {\r\n                    setLogMessage(\"Internal Server Error!\");\r\n                }\r\n\r\n            })\r\n    }\r\n    return (\r\n        <div className='Student-login-section'>\r\n            <div>\r\n                <HeaderSection />\r\n            </div>\r\n\r\n            <div className='Student-login-container'>\r\n                <p>Student Login</p>\r\n\r\n                <form onSubmit={handleSubmit}>\r\n                    <input\r\n                        type=\"text\"\r\n                        name='username'\r\n                        value={inputs.username || \"\"}\r\n                        onChange={logHandleChange}\r\n                        autoComplete=\"off\"\r\n                        placeholder=\"Username\"\r\n                        required pattern=\"[a-z A-Z 0-9]+\" />\r\n                    <input\r\n                        type={inputs.showPassword ? \"text\" : \"password\"}\r\n                        name='password'\r\n                        value={inputs.password || \"\"}\r\n                        onChange={logHandleChange}\r\n                        autoComplete=\"off\"\r\n                        required placeholder=\"Password\" />\r\n\r\n                    <div style={{ width: '100%', display: 'flex', alignItems: 'center' }}>\r\n                        <span className='toggle'> <input\r\n                            type=\"checkbox\"\r\n                            onClick={handleClickShowPassword}\r\n                        /> Show Password</span>\r\n                    </div>\r\n                    <span style={{ color: 'red' }}>{logMessage}</span>\r\n                    <button>Log In</button>\r\n                    <Link to='/recover'>Forgot your password?</Link>\r\n                    {isLoggedIn ? <Navigate to='/student_workspace' replace /> : <h3> </h3>}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}